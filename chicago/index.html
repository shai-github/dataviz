<!DOCTYPE html>
<html>
    <head>
        <title>DataViz Project | Shai Slotky</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora|Libre+Franklin+Thin|Libre+Franklin+Regular" >
        <script src="https://unpkg.com/enter-view"></script>
        <meta charset="utf-8" />
    
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/multiples.css" />
        <link rel="stylesheet" href="css/bars.css" />
        <link rel="stylesheet" href="css/scrolly.css" />
        <link rel="stylesheet" href="css/tree.css" />
        <link rel="stylesheet" href="css/reset.css" />
        <link rel="stylesheet" href="css/bubble.css" />
    
        <script src="//d3js.org/d3.v4.min.js"></script>
    </head>

    <body>
        <section>
            <div class="title-container">
                <h1 class="title">A Shrinking Middle Class in an Increasingly Polarized City</h1>
            </div>
            <div class="sub-container">
                <h5>
                    <em>
                        Since the Great Recession, the middle class has been losing ground across U.S. metropolitan areas.
                        In Chicago, the erosion of the middle class started well before the economic downturn in 2008.
                    </em>
                </h5>
                <h8>
                    <b>By Shai Slotky</b>&nbsp;&nbsp;&nbsp;&nbsp;March 12, 2022
                </h8>
                <div class="med-spacer"></div>
            </div>
        </section>
        <section>
            <div class="content-container">
                <h6>
                    Throughout the Midwest, the middle class as a share of the population has declined
                </h6>
                <p class="subtext">
                    Between 2000 and 2014, the median household income plummeted nationwide. As a result, the middle class decreased across metropolitan 
                    areas in the Rust Belt, where local economies have heavily relied on manufacturing. This shift represents an increase in 
                    income inequality, where - on average - the proportion of the lower and upper classes increased as the relative share of the 
                    middle class dropped.
                </p>
                <div class="small-spacer"></div>
            </div>
            <div class="chart-container" style="text-align:center">
                <ul class="bars-legend">
                    <li><span class="fifthblock"></span style = > High Income</li>
                    <li><span class="fourthblock"></span> Middle Income</li>
                    <li><span class="thirdblock"></span> Low Income</li>
                </ul>
                <br></br>
                <div id="chiMultiples" width="1050px" height="562px">
            </div>
            <div class="content-container">
                <p class="source">
                    Source: The Pew Research Center, Integrated Public Use Microdata Series (IPUMS)
                    <br></br>
                    Note: The data is derived from the 2000 decennial census and the 2014 American Community Survey by the U.S. Census Bureau.
                    The Pew Research Center defines "middle-income" as as adults whose annual household income is two-thirds to double the national 
                    median, after incomes have been adjusted for household size. The Pew Research Center defines "low-income" as households with
                    incomes less than 67% of the median and upper-income households as having incomes that are more than double the median.
                </p>
            </div>
        </section>
        <div class="med-spacer"></div>
        <section>
            <div class="content-container">
                <h6>
                    Chicago's middle class has been waning over the past five decades
                </h6>
                <p class="subtext">
                    The decline of the middle class in Chicago - the third-most populous city in the United States - began well before the turn of the
                    millennium. 
                </p>
                <div class="small-spacer"></div>
            </div>
            <div class="chart-container">
                <ul class="bars-legend">
                    <li><span class="fifthblock"></span style = > High Income</li>
                    <li><span class="fourthblock"></span> Middle Income</li>
                    <li><span class="thirdblock"></span> Low Income</li>
                </ul>
                <svg id="chiBars" width="1050px" height="475px"></svg>
            </div>
            <div class="content-container">
                <p class="source">
                    Source: Natahlie P. Voorhees Center for Neighborhood and Community Improvement, University of Illinois Chicago
                    <br></br>
                    Note: 
                </p>
            </div>
        </section>
        <div class="med-spacer"></div>
        <section id='scrolly-overlay'>

            <div class='scrolly'>
    
                <figure class='sticky'>
                    <div>
                        <ul class="legend">
                            <li><span class="fifthblock"></span style = > Very High</li>
                            <li><span class="fourthblock"></span> High</li>
                            <li><span class="thirdblock"></span> Middle</li>
                            <li><span class="secondblock"></span> Low</li>
                            <li><span class="firstblock"></span> Very Low</li>
                        </ul>
                        <img id="1970svg" src="svg/1970.svg">
                        <img id="1980svg" src="svg/1980.svg">
                        <img id="1990svg" src="svg/1990.svg">
                        <img id="2000svg" src="svg/2000.svg">
                        <img id="2010svg" src="svg/2010.svg">
                        <img id="2016svg" src="svg/2016.svg">
                    </div>
                </figure>
    
                <article>
                    <div id='1970.svg' class='step' data-width='10%' data-index='0'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='1980.svg' class='step' data-width='90%' data-index='1'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='1990.svg' class='step' data-width='50%' data-index='2'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='2000.svg' class='step' data-width='50%' data-index='3'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='2010.svg' class='step' data-width='50%' data-index='4'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='2016.svg' class='step' data-width='50%' data-index='5'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                </article>
            </div>
        </section>
        <section class='filler'>
            <div class="spacer"></div>
        </section>
        <section id='scrolly-overlay'>

            <div class='scrolly'>
    
                <figure class='sticky'>
                    <div>
                        <ul class="city-legend">
                            <li><span class="citythree"></span style = > City Three</li>
                            <li><span class="citytwo"></span> City Two</li>
                            <li><span class="cityone"></span> City One</li>
                        </ul>
                        <img id="city0svg" src="svg/city0.svg">
                        <img id="city1svg" src="svg/city1.svg">
                        <img id="city2svg" src="svg/city2.svg">
                        <img id="city3svg" src="svg/city3.svg">
                    </div>
                </figure>
    
                <article>
                    <div id='city0svg' class='step' data-width='10%' data-index='0'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='city1svg' class='step' data-width='90%' data-index='1'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='city2svg' class='step' data-width='50%' data-index='2'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                    <div id='city3svg' class='step' data-width='50%' data-index='3'>
                        <div class="frame">
                            <p style="font-family: 'Lora', sans-serif;font-size: 18.5px">
                                <b>The Three Cities</b>
                            </p>
                            <p>
                                Something something something something
                            </p>
                        </div>
                    </div>
                </article>
            </div>
        </section>
        <section>
            <div class="chart-container">
                <div id="tree" width="1050px" height="562px"></div>
            </div>
        </section>
        <section class='filler'>
            <div class="spacer"></div>
        </section>
        <section>
            <div class="container">
                <header class="flex"></header>
                <h4>Switch Time Period</h4>
                <div id="toolbar">
                    <ul class="bub-legend">
                        <li><span class="thirdblock"></span> <b>City 3</b> (14% White)</li>
                        <li><span class="secondblock"></span>  <b>City 2</b> (42% White)</li>
                        <li><span class="firstblock"></span>  <b>City 1</b> (64% White)</li>
                    </ul>
                    <a id="all" class="button active">All</a>
                    <a id="1970" class="button">1970</a>
                    <a id="1980" class="button">1980</a>
                    <a id="1990" class="button">1990</a>
                    <a id="2000" class="button">2000</a>
                    <a id="2010" class="button">2010</a>
                    <a id="2016" class="button">2016</a>
                    <br></br>
                    <br></br>
                </div>
                <div id="vis"></div>
        </section>

    </body>

    <script src="scripts/multiples.js"></script>
    <script src="scripts/bars.js"></script>
    <script src="scripts/scrolly.js"></script>
    <script src="scripts/tree.js"></script>
    <script src="scripts/tooltip.js"></script>
    <script src="scripts/bubble.js"></script>

    <script>
        enterView({
            selector: '.step',
            enter: function(el) {
                svgElements = document.getElementById('scrolly-overlay').getElementsByTagName('img');
                for (i=0; i<svgElements.length; i++) {
                    svgElement = svgElements[i];
                    svgElement.style.cssText = "visibility: hidden; opacity: 0; transition: visibility 0.5s, opacity 0.5s linear; position: absolute;";
                }

                visibleSvg = document.getElementById(el.id.replaceAll('.', ''));
                visibleSvg.style.cssText = "visibility: visible; opacity: 1;";
            },
        offset: 0.5
        });
    </script>
</html>
